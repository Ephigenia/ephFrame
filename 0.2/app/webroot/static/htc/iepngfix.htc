<public:component>
<public:attach event="onpropertychange" onevent="updateChangedElements()" />
<script type="text/javascript">
if(typeof blankImage=="undefined"){var blankImage="/static/img/blank.gif"}var blankImageUrl="url("+blankImage+")";var filterString="DXImageTransform.Microsoft.AlphaImageLoader";function fixPng(){if(!/MSIE (5\.5|6)/.test(navigator.userAgent)){return }var B;if(/IMG|INPUT/.test(this.nodeName)&&/\.png$/.test(this.src)){B=this.src;if(this.currentStyle.width=="auto"&&this.currentStyle.height=="auto"){this.style.width=this.offsetWidth+"px"}this.src=blankImage;applyAlphaFilter(B,"scale")}else{if(getStyle("backgroundImage").match(/url\(["']?(.*\.png)["']?\)/i)){B=RegExp.$1;var C=getStyle("backgroundPositionX").match(/(-?\d+(?:\w\w|\%)|left|center|right)/i)[1];var A=getStyle("backgroundPositionY").match(/(-?\d+(?:\w\w|\%)|top|center|bottom)/i)[1];if((/center|right/).test(C)||parseFloat(C)!=0||(/center|bottom/).test(A)||parseFloat(A)!=0){fakeBackgroundPosition(B,C,A)}else{this.style.backgroundImage=blankImageUrl;applyAlphaFilter(B);fixUnclickableChildren()}}else{if(this._originalBackgroundImage){removeAlphaFilter()}}}}function getStyle(A){return this.style[A]&&this.style[A].length?this.style[A]:this.currentStyle[A]}function applyAlphaFilter(D,C,A){C=C||"crop";D=(D||"").replace(/\(/g,"%28").replace(/\)/g,"%29");var B=this.filters[filterString];if(B){B.enabled=true;B.src=D;B.sizingMethod=C}else{this.style.filter="progid:"+filterString+'(src="'+D+'",sizingMethod="'+C+'")'}this._originalBackgroundImage=D}function removeAlphaFilter(){var A=this.filters[filterString];if(A){A.enabled=false}}function fakeBackgroundPosition(C,E,B){var A=this;var D;if(!this._fakeBg){if((!getStyle("width")||getStyle("width")=="auto")&&(!getStyle("height")||getStyle("height")=="auto")){A.style.width="100%"}A.style.overflow="hidden";A.style.position="relative";this._fakeBg=document.createElement("div");D=this._fakeBg;D.style.backgroundImage="url("+C+")";D.style.width=10000;D.style.height=10000;if(E=="right"||E=="center"){alert("IEPNGFix: background-position "+E+" not supported!\nImage: "+getStyle("backgroundImage"));E=0}else{if(B=="bottom"||B=="center"){alert("IEPNGFix: background-position "+B+" not supported!\nImage: "+getStyle("backgroundImage"));B=0}}D.style.left=E;D.style.top=B;D.style.position="absolute";D.style.zIndex=-1;this.appendChild(this._fakeBg)}else{D=this._fakeBg}A.style.backgroundImage=blankImageUrl;D.style.backgroundImage="url("+C+")";D.style.left=E;D.style.top=B}function fixUnclickableChildren(){var D=["a","input","select","textarea","iframe","object"];var A=false;for(var E=0;E<D.length;E++){var B=this.all.tags(D[E]);for(var C=0;C<B.length;C++){var F=B[C];A=true;F.style.position="relative"}}if(A&&(/relative|absolute/i).test(getStyle("position"))){alert('IEPNGFix: Children of positioned element are unclickable!\nDon\'t use "position: absolute" or "position: relative" on your PNGFix\'ed element.\nElement: '+this)}}function updateChangedElements(){if(event.propertyName=="src"){fixPng()}else{if(event.propertyName=="style.backgroundImage"){if(getStyle("backgroundImage")!=blankImageUrl){fixPng()}}else{if(event.propertyName=="style.backgroundPosition"){if(this._fakeBg){this.style.backgroundImage="url("+this._fakeBg._originalBackgroundImage+")"}}else{if(event.propertyName=="className"){}}}}}fixPng()
</script>
</public:component>